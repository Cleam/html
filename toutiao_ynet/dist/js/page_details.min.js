FastClick.attach(document.body);var module=function(e){return e.inits=e.inits||[],e}(module||{}),module=function(e){return e.inits=e.inits||[],e.getScript=function(e,t,n){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),n?n.appendChild(r):i.appendChild(r);var a=function(){"function"==typeof t&&t()};document.all?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||a()}:r.onload=function(){a()}},e.createScript=function(e,t,n){if(e){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.innerHTML=e,n?n.appendChild(r):i.appendChild(r),t()}},e.getRandom=function(e,t){return Math.floor(Math.random()*(t-e)+e)},e}(module||{}),module=function(e){e.inits=e.inits||[];var t=function(e){for(var t=function(e){var t=[];if(e&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n].tagName;i&&"FIGURE"===i.toUpperCase()&&t.push(e[n])}return t},n=function(e){for(var n,i,r,a=e.childNodes,l=t(a),s=l.length,o=[],c=0;s>c;c++)figureEl=l[c],1===figureEl.nodeType&&(n=figureEl.children[0],i=n.children[0],r={src:n.getAttribute("href"),w:parseInt(i.getAttribute("data-weight")),h:parseInt(i.getAttribute("data-height"))},figureEl.children.length>1&&(r.title=figureEl.children[1].innerHTML),n.children.length>0&&(r.msrc=n.children[0].getAttribute("src")),r.el=figureEl,o.push(r));return o},i=function d(e,t){return e&&(t(e)?e:d(e.parentNode,t))},r=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var n=e.target||e.srcElement;if("IMG"===n.tagName.toUpperCase()){var r=i(n,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(r){for(var a,s=r.parentNode,o=r.parentNode.childNodes,c=t(o),u=(c.length,0),d=0;d<c.length;d++)if(1===c[d].nodeType){if(c[d]===r){a=u;break}u++}return a>=0&&l(a,s),!1}}},a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var r=n[i].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t},l=function(e,t,i,r){var a,l,s,o=document.querySelectorAll(".pswp")[0];if(s=n(t),l={index:e,galleryUID:t.getAttribute("data-pswp-uid"),tapToClose:!0,closeOnVerticalDrag:!1,loop:!0,closeOnScroll:!1,getThumbBoundsFn:function(e){var t=s[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},r)if(l.galleryPIDs){for(var c=0;c<s.length;c++)if(s[c].pid==e){l.index=c;break}}else l.index=parseInt(e,10)-1;else l.index=parseInt(e,10);isNaN(l.index)||(i&&(l.showAnimationDuration=0),a=new PhotoSwipe(o,PhotoSwipeUI_Default,s,l),a.init())},s=document.querySelectorAll(e),o=0,c=s.length;c>o;o++)s[o].setAttribute("data-pswp-uid",o+1),s[o].onclick=r;var u=a();u.pid&&u.gid&&l(u.pid,s[u.gid-1],!0,!0)};return e.inits.push(function(){t(".J-article-content")}),e}(module||{}),module=function(e){function t(e){if(!e||!e.length)return!1;r.append('<div class="hn-title"><h2><span></span>热点新闻</h2><span class="line"></span></div>').append(a);for(var t=e.length,n=0;t>n;n++){var i=e[n],l=i.url,s=i.date,o=i.isgg,c=i.topic,u=i.source,d=i.miniimg,p=i.recommendtype?i.recommendtype:"-1",f=i.ispicnews,m=i.videonews,g=i.isadv||"",h=i.adv_id||"",y=i.type,v=i.subtype,w=d.length,L=Number(i.hotnews),A=Number(i.isvideo),O=Number(i.isrecom),B=Number(i.isnxw),E=n+1,G=GLOBAL.Util.getUrlNoParams(),b="",U="";l="1"!=o?"http://toutiao.ynet.com/a/"+l:l,l=l+"?qid="+GLOBAL.Et.qid+"&idx="+E+"&fr="+G+"&recommendtype="+p,"1"==g?(U="&nbsp;",b='class="J-promote-news" data-advid="'+h+'"'):L?(U='<i class="hot">热门</i>',A&&(U+='<i class="video">视频</i>')):O?U='<i class="rec">推荐</i>':A?U='<i class="video">视频</i>':B&&(U='<i class="nuanwen">暖文</i>'),"1"==m||"1"==f||"-1"==f||"0"==f&&(w>=3?a.append('<section class="news-item news-item-img3"><a '+b+' data-type="'+y+'" data-subtype="'+v+'" href="'+l+'"><div class="news-wrap"><h3>'+c+'</h3><div class="img-wrap clearfix"><img class="lazy fl" src="'+d[0].src+'" alt=""><img class="lazy fl" src="'+d[1].src+'" alt=""><img class="lazy fl" src="'+d[2].src+'" alt=""></div><p class="clearfix"><em class="fl">'+(U?U:GLOBAL.Util.getSpecialTimeStr(s))+'</em><em class="fr">'+u+"</em></p></div></a></section>"):a.append('<section class="news-item news-item-img1"><a '+b+' data-type="'+y+'" data-subtype="'+v+'" href="'+l+'"><div class="news-wrap clearfix"><div class="img-wrap fl"><img class="lazy" src="'+d[0].src+'" alt=""></div><div class="txt-wrap fr"><h3>'+c+'</h3><p><em class="fl">'+(U?U:GLOBAL.Util.getSpecialTimeStr(s))+'</em><em class="fr">'+u+"</em></p></div></div></a></section>"))}}function n(){$.ajax({url:l,dataType:"jsonp",data:{qid:GLOBAL.Et.qid||"null",uid:GLOBAL.Et.uid||"null",loginid:"null",softtype:"news",softname:"toutiao_ynet_h5",newstype:GLOBAL.Et.newsType||"null",from:GLOBAL.Util.getQueryString("fr")||"null",to:GLOBAL.Util.getUrlNoParams()||"null",os_type:GLOBAL.Util.getOsType()||"null",browser_type:GLOBAL.Util.getBrowserType()||"null",pixel:window.screen.width+"*"+window.screen.height,ime:"null",idx:GLOBAL.Util.getQueryString("idx")||"null",ishot:"null",fr_url:GLOBAL.Util.getReferrer()||"null",ver:"null",appqid:"null",ttloginid:"null",apptypeid:"null",appver:"null",recommendtype:GLOBAL.Util.getQueryString("recommendtype")||"null",ispush:GLOBAL.Util.getQueryString("ispush")||"null",deviceid:"null"},jsonp:"jsonpcallback",success:function(e){}})}function i(e){$.ajax({url:s,dataType:"jsonp",data:{param:encodeURI(e)},jsonp:"jsonpcallback"})}e.inits=e.inits||[];var r=($("#J_interest_news"),$('<div id="J_in_list" class="in-list"></div>'),$("#J_hot_news")),a=$('<div id="J_hn_list" class="hn-list"></div>'),l="http://ynetactiveh5.dfshurufa.com/wapdata/data",s="http://ynetonlineh5.dfshurufa.com/online/online",o="http://ynetsocketh5.dfshurufa.com/wapjson_st/checknews";return e.loadCommonPage=function(){try{n();var e=GLOBAL.Util.getUrlNoParams(),r=GLOBAL.Et.uid,a=GLOBAL.Et.qid||"null",l="null",s="null",c="null",u=GLOBAL.Et.newsType||"null",d=10,p="null",f="null",m=GLOBAL.Util.getOsType(),g="null",h=e+"	"+r+"	"+a+"	"+l+"	"+s+"	"+c+"	"+u+"	"+d+"	"+p+"	"+f+"	"+m+"	"+g+"	"+a;i(h),setInterval(function(){i(h)},1e3*d)}catch(y){console.error("Log error: \n",y)}try{$.ajax({url:o,data:{type:GLOBAL.Et.newsType,endkey:"",url:GLOBAL.Util.getUrlNoParams(),newsnum:10,recgid:GLOBAL.Et.uid,qid:GLOBAL.Et.qid,os:GLOBAL.Util.getOsType(),isapp:"0",iswifi:"0"},dataType:"jsonp",jsonp:"jsonpcallback",success:function(e){var n=e?e.data:"";n?t(n):console.warn("未获取到数据!")}})}catch(y){console.error("LoadHotNews error: \n",y)}},e}(module||{}),module=function(e){return e.inits=e.inits||[],e.loadWnwifiPage=function(){},e}(module||{});$(function(){+function(){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;a>i;){var l;i in r&&(l=r[i],e.call(n,l,i,r)),i++}})}(),module.inits.forEach(function(e,t){if("function"==typeof e)try{e()}catch(n){console.error(n)}}),module.loadCommonPage()});